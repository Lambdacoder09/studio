
{
  "entities": {
    "Product": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Product",
      "type": "object",
      "description": "Represents a product in the inventory.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Product entity."
        },
        "ownerId": {
          "type": "string",
          "description": "The UID of the user who owns this product."
        },
        "productName": {
          "type": "string",
          "description": "Name of the product."
        },
        "sku": {
          "type": "string",
          "description": "Stock Keeping Unit, a unique identifier for the product."
        },
        "category": {
          "type": "string",
          "description": "Category of the product (e.g., electronics, clothing)."
        },
        "purchasePrice": {
          "type": "number",
          "description": "Price at which the product was purchased."
        },
        "sellingPrice": {
          "type": "number",
          "description": "Price at which the product is sold."
        },
        "currentQuantity": {
          "type": "number",
          "description": "Current quantity of the product in stock."
        }
      },
      "required": [
        "id",
        "ownerId",
        "productName",
        "sku",
        "category",
        "purchasePrice",
        "sellingPrice",
        "currentQuantity"
      ]
    },
    "Sale": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Sale",
      "type": "object",
      "description": "Represents a sale transaction.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Sale entity."
        },
        "ownerId": {
          "type": "string",
          "description": "The UID of the user who owns this record."
        },
        "date": {
          "type": "string",
          "description": "Date of the sale.",
          "format": "date-time"
        },
        "invoiceNumber": {
          "type": "string",
          "description": "Invoice number for the sale."
        },
        "totalAmount": {
          "type": "number",
          "description": "Total amount of the sale."
        },
        "productIds": {
          "type": "array",
          "description": "References to Products. (Relationship: Sale 1:N Product)",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "id",
        "ownerId",
        "date",
        "invoiceNumber",
        "totalAmount",
        "productIds"
      ]
    },
    "Purchase": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Purchase",
      "type": "object",
      "description": "Represents a purchase transaction from a supplier.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Purchase entity."
        },
        "ownerId": {
          "type": "string",
          "description": "The UID of the user who owns this record."
        },
        "supplierName": {
          "type": "string",
          "description": "Name of the supplier."
        },
        "productId": {
          "type": "string",
          "description": "Reference to Product. (Relationship: Purchase 1:N Product)"
        },
        "quantity": {
          "type": "number",
          "description": "Quantity of the product purchased."
        },
        "purchasePrice": {
          "type": "number",
          "description": "Price at which the product was purchased."
        },
        "date": {
          "type": "string",
          "description": "Date of the purchase.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "ownerId",
        "supplierName",
        "productId",
        "quantity",
        "purchasePrice",
        "date"
      ]
    },
    "Expense": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Expense",
      "type": "object",
      "description": "Represents an expense.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Expense entity."
        },
        "ownerId": {
          "type": "string",
          "description": "The UID of the user who owns this record."
        },
        "expenseName": {
          "type": "string",
          "description": "Name of the expense."
        },
        "category": {
          "type": "string",
          "description": "Category of the expense (e.g., rent, electricity)."
        },
        "amount": {
          "type": "number",
          "description": "Amount of the expense."
        },
        "date": {
          "type": "string",
          "description": "Date of the expense.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "ownerId",
        "expenseName",
        "category",
        "amount",
        "date"
      ]
    },
    "ActivityLog": {
      "title": "ActivityLog",
      "type": "object",
      "description": "Represents an audit log of actions performed by the user.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the log entry."
        },
        "ownerId": {
          "type": "string",
          "description": "The UID of the user who performed the action."
        },
        "type": {
          "type": "string",
          "enum": ["auth", "sale", "purchase", "expense", "inventory"],
          "description": "The category of the action."
        },
        "action": {
          "type": "string",
          "description": "A human-readable description of what happened."
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "When the action occurred."
        },
        "metadata": {
          "type": "object",
          "description": "Optional additional context about the event."
        }
      },
      "required": ["id", "ownerId", "type", "action", "timestamp"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "products/{productId}",
        "definition": {
          "entityName": "Product",
          "schema": {
            "$ref": "#/backend/entities/Product"
          },
          "description": "Stores product information.",
          "params": [
            {
              "name": "productId",
              "description": "Unique identifier for the product."
            }
          ]
        }
      },
      {
        "path": "sales/{saleId}",
        "definition": {
          "entityName": "Sale",
          "schema": {
            "$ref": "#/backend/entities/Sale"
          },
          "description": "Stores sales transaction data.",
          "params": [
            {
              "name": "saleId",
              "description": "Unique identifier for the sale."
            }
          ]
        }
      },
      {
        "path": "purchases/{purchaseId}",
        "definition": {
          "entityName": "Purchase",
          "schema": {
            "$ref": "#/backend/entities/Purchase"
          },
          "description": "Stores purchase transaction data.",
          "params": [
            {
              "name": "purchaseId",
              "description": "Unique identifier for the purchase."
            }
          ]
        }
      },
      {
        "path": "expenses/{expenseId}",
        "definition": {
          "entityName": "Expense",
          "schema": {
            "$ref": "#/backend/entities/Expense"
          },
          "description": "Stores expense data.",
          "params": [
            {
              "name": "expenseId",
              "description": "Unique identifier for the expense."
            }
          ]
        }
      },
      {
        "path": "logs/{logId}",
        "definition": {
          "entityName": "ActivityLog",
          "schema": {
            "$ref": "#/backend/entities/ActivityLog"
          },
          "description": "Stores activity logs for auditing purposes.",
          "params": [
            {
              "name": "logId",
              "description": "Unique identifier for the log entry."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure supports core business operations and now includes a logs collection for activity auditing."
  }
}
